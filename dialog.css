/*
 * Common styles for Dialogs.
 */

/* Modal screen overlay */
BulkActionModal,
WebConsoleDialog,
SnapshotNameDialog,
SelectSnapshotDialog,
SelectOneServerModal,
ConfirmationDialog,
ChangeNetworkDialog,
XMLDisplayModal,
SelectDiskModal,
SelectPoolModal,
VMDetailModal,
VirshShellScreen,
ProgressModal,
MigrationModal,
MoveVolumeModal,
DeleteVMConfirmationDialog,
AdvancedCloneDialog,
RenameVMDialog {
    align: center middle;
    background: rgba(0, 0, 0, 0.5);
}

/* Common centered content alignment for many dialogs */
ConfirmationDialog #dialog Label,
RenameVMDialog,
WebConsoleDialog,
XMLDisplayModal,
MigrationModal,
MoveVolumeModal,
SelectDiskModal,
SelectPoolModal,
SelectOneServerModal,
DeleteVMConfirmationDialog,
SelectServerModal {
    content-align: center middle;
}

/*
 * Base styles for standard dialog containers.
 */
SnapshotNameDialog #dialog,
SelectSnapshotDialog #dialog,
ConfirmationDialog #dialog,
WebConsoleDialog #dialog,
SelectDiskModal #dialog,
MoveVolumeModal #move-volume-dialog,
SelectPoolModal #dialog,
SelectOneServerModal #select-one-server-container,
DeleteVMConfirmationDialog #dialog,
SelectServerModal #select-server-container,
RenameVMDialog #dialog,
ChangeNetworkDialog #dialog {
    width: 60;
    padding: 1;
    border: round $primary;
    background: $surface;
    height: auto; /* Default to auto height, override below if needed */
}

/* Height overrides for standard dialogs */
SnapshotNameDialog #dialog { height: 12; }
ConfirmationDialog #dialog { height: 15; }
RenameVMDialog #dialog { height: 13; }
ChangeNetworkDialog #dialog { height: 20; }

/* Border override for confirmation dialog */
ConfirmationDialog #dialog {
    border: $error;
}

/* Common style for question/prompt labels */
SnapshotNameDialog #question,
ConfirmationDialog #question,
RenameVMDialog #question,
SelectDiskModal #question,
SelectPoolModal #question,
DeleteVMConfirmationDialog #question,
SelectServerModal #select-server-container Label {
    margin-bottom: 1;
}

SelectDiskModal #question,
SelectPoolModal #question,
DeleteVMConfirmationDialog #question,
SelectServerModal #select-server-container Label,
RenameVMDialog #question {
    content-align: center middle;
}

/* Common style for dialog button containers */
SnapshotNameDialog #dialog-buttons,
ConfirmationDialog #dialog-buttons,
WebConsoleDialog #dialog-buttons,
SelectDiskModal #dialog-buttons,
SelectPoolModal #dialog-buttons,
DeleteVMConfirmationDialog #dialog-buttons,
SelectServerModal #dialog-buttons,
RenameVMDialog #dialog-buttons,
ChangeNetworkDialog #dialog-buttons {
    width: 100%;
}

ConfirmationDialog #dialog-buttons {
    margin-top: 1;
}

/* Common styles for dialog buttons */
SnapshotNameDialog #dialog-buttons Button,
ConfirmationDialog #dialog-buttons Button,
RenameVMDialog #dialog-buttons Button,
ChangeNetworkDialog #dialog-buttons Button {
    width: 50%;
    margin-left: 1;
}

ConfirmationDialog #dialog-buttons Button {
    margin-right: 1;
}

WebConsoleDialog #dialog-buttons Button,
SelectDiskModal #dialog-buttons Button,
SelectPoolModal #dialog-buttons Button,
DeleteVMConfirmationDialog #dialog-buttons Button,
SelectServerModal #select-server-container Button {
    width: 48%;
    margin: 0 0;
}


/* --- Specific/Complex Dialog Styles --- */

/* Inputs for dialogs that ask for a name */
SnapshotNameDialog Input,
RenameVMDialog Input {
    margin-bottom: 1;
}

/* List used in snapshot selection */
SelectSnapshotDialog #snapshot-list,
ProgressModal,
SelectServerModal {
    margin-bottom: 1;
    border: round $primary;
    height: 10;
}

/* Network selection dialog */
ChangeNetworkDialog #interface-select,
ChangeNetworkDialog #network-select {
    margin-bottom: 1;
    height: 4;
}

/* XML Display Modal */
XMLDisplayModal #xml-display-dialog {
    width: 80%;
    height: 95%;
    padding: 1;
    border: round $primary;
    background: $surface;
}

XMLDisplayModal #xml-textarea {
    height: 1fr;
    border: round $primary;
    margin-bottom: 1;
}

XMLDisplayModal #dialog-buttons {
    width: 100%;
    height: auto;
    align: center middle;
}

XMLDisplayModal #dialog-buttons Button {
    content-align: center middle;
    width: 100%;
}

/* Progress Modal */
ProgressModal {
    align: center middle;
    width: 80%;
    height: 80%;
    padding: 2;
    border: round $primary;
}

ProgressModal #progress-modal-container {
    layout: vertical;
    height: 80%;
    width: 80%;
    border: round $primary;
}

ProgressModal #progress-title {
    height: auto;
}

ProgressModal #progress-bar {
    height: auto;
    margin-bottom: 1;
}

ProgressModal .progress-log {
    height: 1fr;
    min-height: 5;
    border: heavy $primary;
    padding: 0 1;
    background: $surface-darken-1;
}

/* WebConsole Dialogs */
#webconsole-dialog,
#webconsole-config-dialog {
    padding: 0 1;
    width: 60;
    content-align: center middle;
    border: round $primary;
}
#webconsole-dialog {
    height: 10;
    width: 85;
}
#webconsole-config-dialog {
    height: 26;
}
#remote-console-switch,
#config-title,
#webconsole-config-title {
    column-span: 2;
    margin: 1 1;
    content-align: center middle;
    width: 100%;
}
.webconsole-config-label {
    content-align: right middle;
}


/* Bulk Action Dialog */
#bulk-action-dialog {
    height: 24;
    width: 80;
    border: round $primary;
    content-align: center middle;
    padding: 0 1;
}
#cancel-btn,
#save-config-btn,
#perform-action-btn {
    width: 25%
}

/* --- MISC & UNCATEGORIZED --- */

SelectServerModal Checkbox {
    padding: 0 1;
    margin-bottom: 1;
}

#tab-storage {
    layout: vertical;
}

#storage-tree {
    height: 1fr;
    border: round $primary;
    margin-bottom: 1;
}

#storage-actions {
    height: auto;
}
#delete-vm-dialog {
    height: 12;
    border: round $primary;
    width: 50;
}

.storage-action-label {
    margin-top: 1;
    text-style: bold;
}

.storage-buttons {
    align: center middle;
    height: auto;
    margin-top: 1;
}

.storage-buttons Button {
    width: 1fr;
    margin: 0 1;
}

.net-name,
.net-active-check,
.net-autostart-check,
.net-usage {
    width: 2fr;
    margin-right: 2;
}
.net-mode {
    width: 1fr;
}

#clone-dialog {
    grid-rows: 4;
    grid-size-columns: 2;
    grid-gutter: 0 1;
    border: round $primary;
    width: 55;
    height: 15;
}

.log-view {
    background: #222222; /* Dark grey */
    color: #DDDDDD;     /* Light grey */
}

/* --- Password Modal --- */
PasswordModal {
    align: center middle;
    background: rgba(0, 0, 0, 0.5);
}
PasswordModal #password-dialog {
    width: 60;
    height: 12;
    padding: 1;
    border: round $primary;
    background: $surface;
}
PasswordModal Input {
    margin-bottom: 1;
}
PasswordModal #dialog-buttons {
    width: 100%;
}
PasswordModal #dialog-buttons Button {
    width: 50%;
    margin-left: 1;
}

/* --- HowTo SSH / Config Modal --- */
ConfigModal #config-dialog,
HowToSSHModal {
    align: center middle;
    background: rgba(0, 0, 0, 0.5);
}
ConfigModal #config-dialog,
HowToSSHModal #howto-ssh-dialog {
    width: 80;
    height: 34;
    padding: 1;
    border: round $primary;
    background: $surface;
}
HowToSSHModal #howto-ssh-content {
    height: 1fr;
}
HowToSSHModal #dialog-buttons {
    width: 100%;
    height: auto;
    align: center middle;
    padding-top: 1;
}
HowToSSHModal Button {
    width: 100%;
}
#wc-port-start-input,
#wc-port-end-input,
#vnc-quality-input,
#vnc-compression-input,
#port-range-label {
    width: 33%;
    height: 1;
    border: none;
}
